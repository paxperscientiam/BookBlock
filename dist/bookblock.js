!function(h){h.f[2]=function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),h.r(3),h.r(4),h.r(5),h.r(6)},h.f[6]=function(){var s=h.r(1),t=$(window);Modernizr.addTest("csstransformspreserve3d",function(){var s,n=Modernizr.prefixed("transformStyle"),t="preserve-3d";return!!n&&(n=n.replace(/([A-Z])/g,function(t,i){return"-"+i.toLowerCase()}).replace(/^ms-/,"-ms-"),Modernizr.testStyles("#modernizr{"+n+":"+t+"}",function(t,i){s=window.getComputedStyle?getComputedStyle(t,null).getPropertyValue(n):""}),s===t)});var o,r,a=$.event;o=a.special.debouncedresize={setup:function(){$(this).on("resize",o.handler)},teardown:function(){$(this).off("resize",o.handler)},handler:function(t,i){function s(){t.type="debouncedresize",a.dispatch.apply(n,e)}var n=this,e=arguments;r&&clearTimeout(r),i?s():r=setTimeout(s,o.threshold)},threshold:150};var n=(i.prototype._initEvents=function(){var i=this;""!==this.options.nextEl&&$(this.options.nextEl).on("click.bookblock touchstart.bookblock",function(){return console.log("next button clicked"),i._action("next"),!1}),""!==this.options.prevEl&&$(this.options.prevEl).on("click.bookblock touchstart.bookblock",function(){return i._action("prev"),!1}),t.on("debouncedresize",function(){i.elWidth=i.$el.width()}),$(document).keydown(function(t){switch(t.keyCode||t.which){case 37:i._action("prev");break;case 39:i._action("next")}})},i.prototype._action=function(t,i){this._stopSlideshow(),this._navigate(t,i)},i.prototype._navigate=function(t,i){if(this.isAnimating)return!1;this.options.onBeforeFlip(this.current),this.isAnimating=!0,this.$current=this.$items.eq(this.current),void 0!==i?this.current=i:"next"===t&&"ltr"===this.options.direction||"prev"===t&&"rtl"===this.options.direction?this.options.circular||this.current!==this.itemsCount-1?(this.previous=this.current,this.current=this.current<this.itemsCount-1?this.current+1:0):this.end=!0:("prev"===t&&"ltr"===this.options.direction||"next"===t&&"rtl"===this.options.direction)&&(this.options.circular||0!==this.current?(this.previous=this.current,this.current=0<this.current?this.current-1:this.itemsCount-1):this.end=!0),this.$nextItem=!this.options.circular&&this.end?this.$current:this.$items.eq(this.current),this.support?this._layout(t):this._layoutNoSupport(t)},i.prototype._layoutNoSupport=function(t){this.$items.hide(),this.$nextItem.show(),this.end=!1,this.isAnimating=!1;var i="next"===t&&this.current===this.itemsCount-1||"prev"===t&&0===this.current;this.options.onEndFlip(this.previous,this.current,i)},i.prototype._layout=function(s){var n=this,t=this._addSide("left",s),i=this._addSide("middle",s),e=this._addSide("right",s),o=t.find("div.bb-overlay"),r=i.find("div.bb-flipoverlay:first"),a=i.find("div.bb-flipoverlay:last"),h=e.find("div.bb-overlay"),d=this.end?400:this.options.speed;if(this.$items.hide(),this.$el.prepend(t,i,e),i.css({transitionDuration:d+"ms",transitionTimingFunction:this.options.easing}).on(this.transEndEventName,function(t){if($(t.target).hasClass("bb-page")){n.$el.children(".bb-page").remove(),n.$nextItem.show(),n.end=!1,n.isAnimating=!1;var i="next"===s&&n.current===n.itemsCount-1||"prev"===s&&0===n.current;n.options.onEndFlip(n.previous,n.current,i)}}),"prev"===s&&i.addClass("bb-flip-initial"),this.options.shadows&&!this.end){var c="next"===s?{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms"}:{transition:"opacity "+this.options.speed/2+"ms linear",opacity:this.options.shadowSides},p="next"===s?{transition:"opacity "+this.options.speed/2+"ms linear"}:{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms",opacity:this.options.shadowFlip},l="next"===s?{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms",opacity:this.options.shadowFlip}:{transition:"opacity "+this.options.speed/2+"ms linear"},u="next"===s?{transition:"opacity "+this.options.speed/2+"ms linear",opacity:this.options.shadowSides}:{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms"};r.css(p),a.css(l),o.css(c),h.css(u)}setTimeout(function(){i.addClass(n.end?"bb-flip-"+s+"-end":"bb-flip-"+s),n.options.shadows&&!n.end&&(r.css({opacity:"next"===s?n.options.shadowFlip:0}),a.css({opacity:"next"===s?0:n.options.shadowFlip}),o.css({opacity:"next"===s?n.options.shadowSides:0}),h.css({opacity:"next"===s?0:n.options.shadowSides}))},25)},i.prototype._addSide=function(t,i){var s;switch(t){case"left":s=$('<div class="bb-page"><div class="bb-back"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+("next"===i?this.$current.html():this.$nextItem.html())+'</div></div><div class="bb-overlay"></div></div></div></div>').css("z-index",102);break;case"middle":s=$('<div class="bb-page"><div class="bb-front"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+("next"===i?this.$current.html():this.$nextItem.html())+'</div></div><div class="bb-flipoverlay"></div></div></div><div class="bb-back"><div class="bb-outer"><div class="bb-content" style="width:'+this.elWidth+'px"><div class="bb-inner">'+("next"===i?this.$nextItem.html():this.$current.html())+'</div></div><div class="bb-flipoverlay"></div></div></div></div>').css("z-index",103);break;case"right":s=$('<div class="bb-page"><div class="bb-front"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+("next"===i?this.$nextItem.html():this.$current.html())+'</div></div><div class="bb-overlay"></div></div></div></div>').css("z-index",101)}return s},i.prototype._startSlideshow=function(){var t=this;this.slideshow=setTimeout(function(){t._navigate("next"),t.options.autoplay&&t._startSlideshow()},this.options.interval)},i.prototype._stopSlideshow=function(){this.options.autoplay&&(clearTimeout(this.slideshow),this.options.autoplay=!1)},i.prototype.next=function(){this._action("ltr"===this.options.direction?"next":"prev")},i.prototype.prev=function(){this._action("ltr"===this.options.direction?"prev":"next")},i.prototype.jump=function(t){if((t-=1)===this.current||t>=this.itemsCount||t<0)return!1;var i;i="ltr"===this.options.direction?t>this.current?"next":"prev":t>this.current?"prev":"next",this._action(i,t)},i.prototype.last=function(){this.jump(this.itemsCount)},i.prototype.first=function(){this.jump(1)},i.prototype.isActive=function(){return this.isAnimating},i.prototype.update=function(){var t=this.$items.eq(this.current);this.$items=this.$el.children(".bb-item"),this.itemsCount=this.$items.length,this.current=t.index()},i.prototype.destroy=function(){this.options.autoplay&&this._stopSlideshow(),this.$el.removeClass("bb-"+this.options.orientation),this.$items.show(),""!==this.options.nextEl&&$(this.options.nextEl).off(".bookblock"),""!==this.options.prevEl&&$(this.options.prevEl).off(".bookblock"),t.off("debouncedresize")},i);function i(t,i){this.options=t,this.$el=$(i),this.$el.addClass("bb-"+this.options.orientation),this.$items=this.$el.children(".bb-item").hide(),this.itemsCount=this.$items.length,console.log("startpage is "+this.options.startPage),0<this.options.startPage&&this.options.startPage<=this.itemsCount?this.current=this.options.startPage-1:(e("startPage option is out of range"),this.current=0),this.previous=-1,this.$current=this.$items.eq(this.current).show(),this.elWidth=this.$el.width();this.transEndEventName={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")]+".bookblock",this.support=Modernizr.csstransitions&&Modernizr.csstransforms3d&&Modernizr.csstransformspreserve3d,this._initEvents(),this.options.autoplay&&(this.options.circular=!0,this._startSlideshow())}var e=function(t){window.console&&window.console.error(t)};$.fn.bookBlock=Object.assign(function(t){var i=this;return null==(t=s.__assign({},$.fn.bookBlock.options,t)).height||null==t.width?console.error('BookBlock options are missing required parameter "height" and "width"',JSON.stringify(t)):(this.css({height:t.height,width:t.width}),this.each(function(){$.data(i,"bookblock",new n(t,i))._initEvents()})),this},{options:{_dummy:!1,startPage:1,orientation:"vertical",direction:"ltr",speed:1e3,easing:"ease-in-out",shadows:!0,shadowSides:.2,shadowFlip:.1,circular:!1,nextEl:"#bb-nav-next",prevEl:"#bb-nav-prev",autoplay:!1,interval:3e3,onEndFlip:function(t,i,s){return!1},onBeforeFlip:function(t){return!1},width:null,height:null}})};var t=h.r(2);if(t)for(var i in t)window[i]=t[i];h.r(2)}($fsx);